const tabBlock=document.querySelectorAll(".tabs"),clearActive=(e,t)=>{e.forEach(e=>{e.classList.remove("active")}),t.forEach(e=>{e.classList.remove("active")})},addActive=(e,t)=>{e.forEach((o,r)=>{o.addEventListener("click",s=>{s.preventDefault(),clearActive(e,t),o.classList.add("active"),t[r].classList.add("active")})})};tabBlock.length&&tabBlock.forEach(e=>{const t=e.querySelectorAll(".tabs-controls a"),o=e.querySelectorAll(".tabs-content li");addActive(t,o)});const writeUsLink=document.querySelector(".open-modal-write-us"),mapLink=document.querySelector(".open-modal-map"),modals=document.querySelectorAll(".modal"),overlay=document.querySelector(".overlay"),popupWriteUs=document.querySelector(".modal-write-us"),popupMap=document.querySelector(".modal-map"),userNameInput=popupWriteUs.querySelector(".user-name-input"),userLoginInput=popupWriteUs.querySelector(".user-email-input"),writeUsForm=popupWriteUs.querySelector(".modal-form"),clearModalShow=()=>{document.querySelector(".modal.show").classList.remove("show"),clearOverlay()},clearOverlay=()=>{overlay.classList.remove("show")};writeUsLink.addEventListener("click",e=>{e.preventDefault(),overlay.classList.add("show"),popupWriteUs.classList.add("show"),userNameInput.focus(),document.addEventListener("click",onDocumentClick)}),mapLink.addEventListener("click",e=>{e.preventDefault(),overlay.classList.add("show"),popupMap.classList.add("show"),popupMap.querySelector(".button-close").focus(),document.addEventListener("click",onDocumentClick)});const onDocumentClick=({target:e})=>{(e.closest(".button-close")||e.closest(".overlay"))&&(clearModalShow(),clearOverlay(),popupWriteUs.classList.remove("error"),document.removeEventListener("click",onDocumentClick))};window.addEventListener("keydown",e=>{"Esc"!==e.key&&"Escape"!==e.key||(e.preventDefault(),clearModalShow(),popupWriteUs.classList.remove("error"))}),writeUsForm.addEventListener("submit",e=>{userLoginInput.value||(e.preventDefault(),popupWriteUs.classList.remove("error"),popupWriteUs.offsetWidth=popupWriteUs.offsetWidth,popupWriteUs.classList.add("error"),userLoginInput.focus())});
